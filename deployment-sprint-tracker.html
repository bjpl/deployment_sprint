<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>60-Day Deployment Sprint Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg: #f8fafc;
            --surface: #ffffff;
            --text: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 40px 20px;
            margin-bottom: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .progress-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--surface);
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border-left: 4px solid var(--primary);
        }

        .stat-card h3 {
            font-size: 0.9em;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-card .subtext {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        button:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
        }

        button.secondary {
            background: var(--text-secondary);
        }

        button.success {
            background: var(--success);
        }

        button.danger {
            background: var(--danger);
        }

        .week-section {
            background: var(--surface);
            padding: 24px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .week-section.completed {
            opacity: 0.7;
            border-left: 4px solid var(--success);
        }

        .week-section.current {
            border-left: 4px solid var(--primary);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }

        .week-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border);
            cursor: pointer;
            user-select: none;
        }

        .week-header h2 {
            font-size: 1.5em;
            color: var(--text);
        }

        .week-progress {
            font-size: 0.9em;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .day-card {
            background: var(--bg);
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 16px;
            border: 1px solid var(--border);
        }

        .day-card.completed {
            background: #f0fdf4;
            border-color: var(--success);
        }

        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            cursor: pointer;
        }

        .day-title {
            font-weight: 600;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .day-meta {
            font-size: 0.85em;
            color: var(--text-secondary);
        }

        .task-list {
            margin-left: 32px;
            display: none;
        }

        .task-list.expanded {
            display: block;
        }

        .task-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            margin-bottom: 8px;
            background: var(--surface);
            border-radius: 4px;
            border: 1px solid var(--border);
        }

        .task-item.completed {
            background: #f0fdf4;
            text-decoration: line-through;
            opacity: 0.8;
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .task-content {
            flex: 1;
        }

        .task-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .task-description {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .task-time {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: 500;
        }

        .task-actions {
            margin-top: 8px;
            display: flex;
            gap: 8px;
        }

        .task-note-btn {
            background: transparent;
            color: var(--text-secondary);
            padding: 4px 12px;
            font-size: 0.8em;
            border: 1px solid var(--border);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .task-note-btn:hover {
            background: var(--bg);
            color: var(--primary);
            border-color: var(--primary);
            transform: none;
            box-shadow: none;
        }

        .task-note-btn.has-note {
            background: #dbeafe;
            color: var(--primary);
            border-color: var(--primary);
        }

        .task-guide-btn {
            background: transparent;
            color: var(--text-secondary);
            padding: 4px 12px;
            font-size: 0.8em;
            border: 1px solid var(--border);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .task-guide-btn:hover {
            background: #f0f9ff;
            color: #0369a1;
            border-color: #0369a1;
            transform: none;
            box-shadow: none;
        }

        .task-guide-area {
            margin-top: 12px;
            padding: 16px;
            background: #f0f9ff;
            border-radius: 6px;
            border-left: 4px solid #0369a1;
            display: none;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .task-guide-area.show {
            display: block;
        }

        .task-guide-area h4 {
            margin: 0 0 12px 0;
            color: #0369a1;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .task-guide-area pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 12px;
            border-radius: 4px;
            overflow-x: auto;
            margin: 8px 0;
            font-size: 0.85em;
            line-height: 1.5;
        }

        .task-guide-area code {
            background: #1e293b;
            color: #e2e8f0;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
        }

        .task-guide-area ul, .task-guide-area ol {
            margin: 8px 0;
            padding-left: 24px;
        }

        .task-guide-area li {
            margin: 4px 0;
        }

        .task-guide-area .checkpoint {
            background: #dcfce7;
            border-left: 3px solid #10b981;
            padding: 8px 12px;
            margin: 12px 0;
            border-radius: 4px;
            color: #065f46;
            font-weight: 500;
        }

        .task-note-area {
            margin-top: 12px;
            padding: 12px;
            background: #fef3c7;
            border-radius: 4px;
            border: 1px solid #fbbf24;
            display: none;
        }

        .task-note-area.show {
            display: block;
        }

        .task-note-area textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #fbbf24;
            border-radius: 4px;
            font-family: inherit;
            font-size: 0.85em;
            resize: vertical;
            background: white;
            line-height: 1.4;
        }

        .task-note-area textarea:focus {
            outline: none;
            border-color: var(--warning);
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }

        .task-note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.85em;
            color: #92400e;
            font-weight: 600;
        }

        .task-note-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 6px;
            font-size: 0.75em;
            color: #92400e;
        }

        .save-btn {
            background: var(--success);
            color: white;
            padding: 6px 16px;
            font-size: 0.8em;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .save-btn:hover {
            background: #059669;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
        }

        .save-btn:active {
            transform: translateY(0);
        }

        .notes-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .task-save-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .task-save-indicator.show {
            opacity: 1;
        }

        .notes-section {
            margin-top: 16px;
            padding: 16px;
            background: var(--surface);
            border-radius: 6px;
            border: 1px solid var(--border);
        }

        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .notes-header h4 {
            font-size: 0.95em;
            color: var(--text);
            font-weight: 600;
        }

        .notes-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .note-tab {
            padding: 6px 12px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.2s;
            font-weight: 500;
        }

        .note-tab:hover {
            background: var(--border);
        }

        .note-tab.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .note-input-container {
            position: relative;
        }

        .notes-section textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-family: inherit;
            font-size: 0.9em;
            resize: vertical;
            transition: border-color 0.2s;
            line-height: 1.5;
        }

        .notes-section textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .notes-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            font-size: 0.8em;
            color: var(--text-secondary);
        }

        .save-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .save-indicator.show {
            opacity: 1;
        }

        .save-indicator.saving {
            color: var(--warning);
        }

        .save-indicator.saved {
            color: var(--success);
        }

        .char-count {
            font-size: 0.8em;
            color: var(--text-secondary);
        }

        .note-type-content {
            display: none;
        }

        .note-type-content.active {
            display: block;
        }

        .metrics-input {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 16px;
            padding: 16px;
            background: #fef3c7;
            border-radius: 6px;
            border: 1px solid #fbbf24;
        }

        .metrics-header {
            grid-column: 1 / -1;
            font-weight: 600;
            color: #92400e;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .metric-field {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .metric-field label {
            font-size: 0.85em;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .metric-field input {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 0.9em;
            background: white;
            transition: border-color 0.2s;
        }

        .metric-field input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success) 0%, var(--primary) 100%);
            transition: width 0.3s ease;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--surface);
            padding: 32px;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-content h2 {
            margin-bottom: 20px;
        }

        .modal-content textarea {
            width: 100%;
            min-height: 200px;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge.high {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge.medium {
            background: #fef3c7;
            color: #92400e;
        }

        .badge.low {
            background: #dbeafe;
            color: #1e40af;
        }

        .collapse-btn {
            background: transparent;
            color: var(--primary);
            padding: 8px 16px;
            font-size: 0.9em;
        }

        .collapse-btn:hover {
            background: var(--bg);
            transform: none;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .stat-card .value {
                font-size: 1.5em;
            }

            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ 60-Day Deployment Sprint Tracker</h1>
            <p>Solo AI-Enabled Developer - Multi-Project Deployment</p>
        </header>

        <div class="progress-overview" id="statsCards"></div>

        <div class="controls">
            <button onclick="openMetricsModal()" class="success">üìä Update Current Metrics</button>
            <button onclick="exportProgress()">üíæ Export Progress</button>
            <button onclick="importProgress()" class="secondary">üì• Import Progress</button>
            <button onclick="resetProgress()" class="danger">üîÑ Reset All</button>
            <button onclick="toggleAllWeeks()" class="secondary">üìñ Expand/Collapse All</button>
        </div>

        <div id="sprintContent"></div>
    </div>

    <!-- Quick Metrics Update Modal -->
    <div id="metricsModal" class="modal">
        <div class="modal-content">
            <h2>üìä Update Current Metrics</h2>
            <p>Update your portfolio metrics (shown in top cards):</p>
            <div style="margin-top: 20px;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                    <div class="metric-field">
                        <label>Total Signups (All Projects):</label>
                        <input type="number" id="quick-signups" placeholder="e.g., 150">
                    </div>
                    <div class="metric-field">
                        <label>Weekly Active Users:</label>
                        <input type="number" id="quick-active" placeholder="e.g., 60">
                    </div>
                    <div class="metric-field">
                        <label>Paying Customers:</label>
                        <input type="number" id="quick-customers" placeholder="e.g., 8">
                    </div>
                    <div class="metric-field">
                        <label>Monthly Recurring Revenue ($):</label>
                        <input type="number" id="quick-mrr" placeholder="e.g., 40">
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 12px; background: #fef3c7; border-radius: 6px; font-size: 0.9em; color: #92400e;">
                    <strong>üí° Tip:</strong> Update these anytime your metrics change. These show in the top overview cards. Decision gate days (Day 21, Day 49-55) also capture historical snapshots for comparison.
                </div>
            </div>
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button onclick="saveQuickMetrics()" class="success">üíæ Save Metrics</button>
                <button onclick="closeModal()" class="secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Export/Import Modal -->
    <div id="exportModal" class="modal">
        <div class="modal-content">
            <h2>Export Progress</h2>
            <p>Copy this JSON to save your progress:</p>
            <textarea id="exportData" readonly></textarea>
            <div style="margin-top: 16px; display: flex; gap: 10px;">
                <button onclick="copyExport()">üìã Copy to Clipboard</button>
                <button onclick="closeModal()" class="secondary">Close</button>
            </div>
        </div>
    </div>

    <div id="importModal" class="modal">
        <div class="modal-content">
            <h2>Import Progress</h2>
            <p>Paste your exported JSON here:</p>
            <textarea id="importData" placeholder="Paste JSON here..."></textarea>
            <div style="margin-top: 16px; display: flex; gap: 10px;">
                <button onclick="doImport()">‚úÖ Import</button>
                <button onclick="closeModal()" class="secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Task guides with detailed instructions from roadmap
        const taskGuides = {
            'd1t1': `<h4>üìñ Account Creation Marathon</h4>
                <p>Open all tabs simultaneously and sign up in parallel:</p>
                <ul>
                    <li><strong>Tab 1:</strong> <a href="https://vercel.com/signup" target="_blank">Vercel</a> - Frontend hosting</li>
                    <li><strong>Tab 2:</strong> <a href="https://railway.app" target="_blank">Railway</a> - Backend hosting</li>
                    <li><strong>Tab 3:</strong> <a href="https://supabase.com" target="_blank">Supabase</a> - Database + Auth</li>
                    <li><strong>Tab 4:</strong> <a href="https://github.com" target="_blank">GitHub</a> - Verify account</li>
                    <li><strong>Tab 5:</strong> <a href="https://platform.openai.com/signup" target="_blank">OpenAI</a> - AI API</li>
                    <li><strong>Tab 6:</strong> <a href="https://unsplash.com/developers" target="_blank">Unsplash</a> - Image API</li>
                </ul>
                <p><strong>Tips:</strong></p>
                <ul>
                    <li>Use password manager, same email for all</li>
                    <li>Enable 2FA on each platform</li>
                    <li>Store credentials securely</li>
                </ul>
                <div class="checkpoint">‚úÖ Checkpoint: 6 platform accounts created</div>`,

            'd1t2': `<h4>üìñ API Keys Harvest</h4>
                <p>Collect ALL API keys and store them securely:</p>
                <ol>
                    <li><strong>OpenAI API key</strong> (Settings ‚Üí API Keys)
                        <ul><li>Set spending limit: $10/month</li><li>Save: OPENAI_API_KEY=sk-proj-xxx</li></ul>
                    </li>
                    <li><strong>Unsplash Access Key</strong> (Your Apps ‚Üí New Application)
                        <ul><li>Save: UNSPLASH_ACCESS_KEY=xxx</li></ul>
                    </li>
                    <li><strong>Alpha Vantage</strong> (free tier)
                        <ul><li>Visit: <a href="https://www.alphavantage.co/support/#api-key" target="_blank">alphavantage.co</a></li><li>Save: ALPHA_VANTAGE_API_KEY=xxx</li></ul>
                    </li>
                    <li><strong>NewsAPI</strong> (free tier)
                        <ul><li>Visit: <a href="https://newsapi.org/register" target="_blank">newsapi.org</a></li><li>Save: NEWSAPI_KEY=xxx</li></ul>
                    </li>
                    <li><strong>Create 3 Supabase projects:</strong>
                        <ul>
                            <li>describe-it-prod</li>
                            <li>subjunctive-practice-prod</li>
                            <li>open-learn-prod</li>
                            <li>Save each: SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_KEY</li>
                        </ul>
                    </li>
                </ol>
                <p>Create master .env template file:</p>
                <pre>nano ~/deployment_keys_master.env</pre>
                <div class="checkpoint">‚úÖ Checkpoint: All API keys secured in password manager</div>`,

            'd1t3': `<h4>üìñ Generate Security Keys</h4>
                <p>Tell Claude Code:</p>
                <pre>"Generate all security keys for all 6 projects at once.
For each project, generate:
- JWT_SECRET (64 chars hex)
- API_SECRET_KEY (64 chars hex)
- SESSION_SECRET (32 chars hex)

Output as a master template file I can copy to each project."</pre>
                <p>Then:</p>
                <ul>
                    <li>Review generated keys</li>
                    <li>Store in password manager</li>
                    <li>Create per-project .env files</li>
                </ul>
                <div class="checkpoint">‚úÖ Checkpoint: Security keys for all 6 projects generated</div>`,

            'd1t4': `<h4>üìñ Deploy describe_it</h4>
                <pre>cd ../describe_it</pre>
                <p>Tell Claude Code:</p>
                <pre>"Deploy describe_it to Vercel + Supabase for personal use.
Steps:
1. Create .env.local with these keys: [paste from master]
2. Run database migrations in Supabase
3. Deploy to Vercel with vercel --prod
4. Configure all environment variables
5. Test health endpoint
6. Test full user flow: search ‚Üí describe ‚Üí save vocab

Walk me through each step with exact commands."</pre>
                <p>Execute Claude's commands, then test:</p>
                <pre>https://describe-it-xxx.vercel.app</pre>
                <div class="checkpoint">‚úÖ Checkpoint: describe_it LIVE and tested</div>`,

            'd1t5': `<h4>üìñ Deploy subjunctive_practice</h4>
                <pre>cd ../subjunctive_practice</pre>
                <p>Tell Claude Code:</p>
                <pre>"Deploy subjunctive_practice backend to Railway and frontend to Vercel.
Steps:
1. Create Railway project with PostgreSQL
2. Configure backend environment variables
3. Deploy backend (FastAPI)
4. Create Vercel project for frontend
5. Configure frontend environment variables
6. Deploy frontend (Next.js)
7. Update CORS settings
8. Test registration ‚Üí login ‚Üí practice flow

Provide exact railway and vercel commands."</pre>
                <p>Execute deployment, then test end-to-end user journey</p>
                <div class="checkpoint">‚úÖ Checkpoint: subjunctive_practice LIVE with full backend</div>`,

            'd1t6': `<h4>üìñ Validation & Monitoring Setup</h4>
                <p>Test both deployed apps:</p>
                <ol>
                    <li><strong>describe_it:</strong> Search "sunset", generate description, save 3 words</li>
                    <li><strong>subjunctive:</strong> Register, complete 5 exercises, check progress</li>
                </ol>
                <p>Document what worked and what broke:</p>
                <pre>nano ~/deployment_log_day1.md</pre>
                <p>Create monitoring script - Tell Claude Code:</p>
                <pre>"Create a simple bash script that checks health endpoints for:
- describe_it: https://describe-it-xxx.vercel.app/api/health
- subjunctive_practice: https://subjunctive-xxx.railway.app/health

Output status for each."</pre>
                <p>Save as: <code>check-health.sh</code></p>
                <div class="checkpoint">‚úÖ Checkpoint: 2 apps live, health monitoring setup</div>`,

            'd2t1': `<h4>üìñ Fix aves TypeScript Build</h4>
                <pre>cd ../aves</pre>
                <p>Tell Claude Code:</p>
                <pre>"Fix TypeScript build errors in aves.
Update tsconfig.json to exclude test files from production build.
Test that npm run build completes successfully."</pre>
                <div class="checkpoint">‚úÖ Checkpoint: Build completes without errors</div>`,

            'd2t2': `<h4>üìñ Generate 50 Exercises for aves</h4>
                <p>Tell Claude Code:</p>
                <pre>"Generate 50 static exercises in data/exercises.json using:
- Existing 10 species from data/species.json
- Existing 10 annotations from data/annotations.json

Exercise distribution:
- 15 Visual Discrimination (identify bird by Spanish name from image)
- 15 Contextual Fill (complete Spanish sentences)
- 10 Translation Practice (Spanish ‚Üî English bird names)
- 10 Vocabulary Matching (match terms to definitions)

Progressive difficulty:
- Level 1 (Easy): 20 exercises
- Level 2 (Medium): 20 exercises
- Level 3 (Hard): 10 exercises

Show me a preview of 5 sample exercises first for approval."</pre>
                <ul>
                    <li>Review samples and approve</li>
                    <li>Claude generates all 50 exercises</li>
                </ul>
                <div class="checkpoint">‚úÖ Checkpoint: 50 exercises generated and validated</div>`,

            'd2t3': `<h4>üìñ Deploy aves to GitHub Pages</h4>
                <pre>npm run build
git add .
git commit -m "Add 50 exercises, fix build for deployment"
git push origin main
npm run deploy  # Deploys to GitHub Pages</pre>
                <p>Wait 2-5 minutes for GitHub Pages deployment</p>
                <p>Test: <code>https://[username].github.io/aves/</code></p>
                <div class="checkpoint">‚úÖ Checkpoint: aves LIVE on GitHub Pages</div>`,

            'd2t4': `<h4>üìñ Test All 3 Apps Comprehensively</h4>
                <p><strong>1. describe_it:</strong></p>
                <ul>
                    <li>Search 3 different images</li>
                    <li>Generate descriptions</li>
                    <li>Save 10 vocabulary words</li>
                    <li>Test on mobile (PWA)</li>
                </ul>
                <p><strong>2. subjunctive_practice:</strong></p>
                <ul>
                    <li>Complete 10 exercises</li>
                    <li>Check progress stats</li>
                    <li>Test on mobile</li>
                </ul>
                <p><strong>3. aves:</strong></p>
                <ul>
                    <li>Browse all 10 species</li>
                    <li>Complete 10 exercises</li>
                    <li>Check progress saves</li>
                    <li>Test on mobile</li>
                </ul>
                <p>Log any bugs found and prioritize: Critical (blocks usage) vs Nice-to-have</p>
                <div class="checkpoint">‚úÖ Checkpoint: All 3 apps validated for personal use</div>`,

            'd2t5': `<h4>üìñ Deploy open_learn Infrastructure</h4>
                <pre>cd ../open_learn</pre>
                <p><strong>Phase 1: Railway Setup (1 hour)</strong></p>
                <p>Tell Claude Code:</p>
                <pre>"Set up open_learn on Railway:
1. Create new Railway project
2. Add PostgreSQL database
3. Add Redis cache
4. Generate railway.json configuration
5. Show me the environment variables I need to set"</pre>
                <pre>railway login
railway init
railway add --database postgresql
railway add --database redis</pre>
                <p>Configure environment variables in Railway dashboard (copy from master .env template)</p>
                <p><strong>Phase 2: Deploy Backend (1.5 hours)</strong></p>
                <p>Tell Claude Code:</p>
                <pre>"Deploy open_learn backend to Railway:
1. Update docker-compose for production
2. Configure backend/Dockerfile
3. Set up database migrations
4. Deploy backend
5. Run migrations
6. Test health endpoint"</pre>
                <pre>railway up</pre>
                <p><strong>Phase 3: Test Scrapers (1 hour)</strong></p>
                <p>Tell Claude Code:</p>
                <pre>"Test the 3 main scrapers for open_learn:
1. El Tiempo
2. El Espectador
3. Semana

Run test scrape for each, verify data quality."</pre>
                <p>Test each scraper:</p>
                <pre>curl -X POST https://open-learn.railway.app/api/v1/scraping/scrape \\
  -d '{"source":"el_tiempo","count":3}'</pre>
                <p><strong>Phase 4: Frontend Deploy (30 min)</strong></p>
                <pre>cd frontend
vercel --prod
# Set NEXT_PUBLIC_API_URL to Railway backend URL</pre>
                <div class="checkpoint">‚úÖ Checkpoint: open_learn backend LIVE, frontend LIVE, scrapers tested</div>`,

            'd3t1': `<h4>üìñ Deploy corporate_intel Locally</h4>
                <pre>cd ../corporate_intel</pre>
                <p><strong>Phase 1: Environment Setup (30 min)</strong></p>
                <p>Tell Claude Code:</p>
                <pre>"Create .env file for corporate_intel with:
- Database credentials (PostgreSQL, Redis, MinIO)
- API keys (Alpha Vantage, NewsAPI, SEC user agent)
- Security keys
Generate secure random passwords for all database components."</pre>
                <p><strong>Phase 2: Docker Deployment (1 hour)</strong></p>
                <pre>docker-compose up -d
# Wait for services (2 min)
docker-compose ps</pre>
                <p><strong>Phase 3: Initialize Database (30 min)</strong></p>
                <pre>docker exec corporate-intel-api alembic upgrade head
# Verify tables created
docker exec -it corporate-intel-postgres psql -U intel_user -d corporate_intel -c "\\dt"</pre>
                <div class="checkpoint">‚úÖ Checkpoint: corporate_intel running locally</div>`,

            'd3t2': `<h4>üìñ Import EdTech Companies Data</h4>
                <p><strong>Phase 1: Create User (15 min)</strong></p>
                <pre>curl -X POST http://localhost:8000/auth/register \\
  -H "Content-Type: application/json" \\
  -d '{"email":"your@email.com","password":"SecurePass123!","full_name":"Your Name"}'

# Get auth token
curl -X POST http://localhost:8000/auth/login \\
  -d 'username=your@email.com&password=SecurePass123!'

# Save token
export TOKEN="[paste token here]"</pre>
                <p><strong>Phase 2: Import EdTech Companies (45 min)</strong></p>
                <p>Tell Claude Code:</p>
                <pre>"Create a script to bulk import these EdTech companies:
- DUOL (Duolingo)
- CHGG (Chegg)
- COUR (Coursera)
- TWOU (2U Inc)
- ATGE (Adtalem Global)
- LRFC (Learning Corp)
- APEI (American Public Education)

For each, use the /api/v1/companies endpoint."</pre>
                <pre>python scripts/import_edtech_companies.py</pre>
                <p><strong>Phase 3: Fetch SEC Filings (1 hour)</strong></p>
                <p>Tell Claude Code:</p>
                <pre>"Trigger SEC filing ingestion for DUOL.
Fetch last 4 filings (10-K, 10-Q).
Monitor progress in logs."</pre>
                <pre># Watch logs
docker-compose logs -f api</pre>
                <div class="checkpoint">‚úÖ Checkpoint: corporate_intel working, data importing</div>`,

            'd3t3': `<h4>üìñ Create Deployment Automation Scripts</h4>
                <pre>cd ~/deployment_sprint</pre>
                <p>Tell Claude Code:</p>
                <pre>"Create these automation scripts for managing all 6 projects:

1. deploy-all.sh
   - Deploy/redeploy all projects with one command
   - For each project, run appropriate deploy command
   - Show progress and success/failure

2. health-check-all.sh
   - Check health endpoints for all 5 deployed projects
   - Output table with status codes
   - Alert if any are down

3. backup-all.sh
   - Backup databases from Railway projects
   - Backup Supabase projects
   - Create local dump of corporate_intel DB
   - Timestamp and organize backups

4. update-all.sh
   - Pull latest code for all projects
   - Run tests
   - Deploy if tests pass
   - Rollback if deployment fails

Save all to ~/deployment_sprint/automation/"</pre>
                <ul>
                    <li>Review generated scripts</li>
                    <li>Test each one</li>
                </ul>
                <div class="checkpoint">‚úÖ Checkpoint: Automation scripts ready</div>`,

            'd3t4': `<h4>üìñ Create Unified Monitoring Dashboard</h4>
                <p>Tell Claude Code:</p>
                <pre>"Create a Streamlit dashboard: ~/deployment_sprint/dashboards/all-projects.py

Display:
1. Project Health Grid
   - For each project: Name, Status (üü¢/üî¥), Uptime %, Last Deploy
   - Refresh every 5 minutes

2. Quick Actions
   - Buttons to deploy each project
   - Button to run health checks
   - Button to view logs

3. Cost Tracker
   - Show estimated monthly costs
   - Link to each platform's billing page

4. Deployment Log
   - Last 10 deployments across all projects
   - Show timestamp, project, status, duration

Use the health-check-all.sh script for data.
Make it look clean and professional."</pre>
                <p>Test dashboard:</p>
                <pre>streamlit run dashboards/all-projects.py</pre>
                <div class="checkpoint">‚úÖ Checkpoint: Central command center for all projects</div>`,

            'd4t1': `<h4>üìñ Test describe_it Workflow</h4>
                <p><strong>Task:</strong> Learn 15 Spanish vocabulary words related to "technology"</p>
                <ol>
                    <li>Search 5 tech-related images</li>
                    <li>Generate descriptions for each</li>
                    <li>Save 15 vocabulary words</li>
                    <li>Review flashcard feature</li>
                    <li>Export vocab list</li>
                </ol>
                <p><strong>Metrics to track:</strong></p>
                <ul>
                    <li>Time to complete task: ___ min</li>
                    <li>Descriptions quality: 1-5 ___</li>
                    <li>Vocab saved successfully: Y/N</li>
                    <li>Would use again tomorrow: Y/N</li>
                </ul>
                <p>Log results:</p>
                <pre>echo "Day 4 describe_it: [results]" >> validation_log.md</pre>
                <div class="checkpoint">‚úÖ Day 4 Checkpoint: describe_it thoroughly validated</div>`,

            'd4t2': `<h4>üìñ Test subjunctive_practice Workflow</h4>
                <p><strong>Task:</strong> Complete 20 exercises, review progress</p>
                <ol>
                    <li>Complete 20 subjunctive exercises</li>
                    <li>Mix of different tense types</li>
                    <li>Check accuracy percentage</li>
                    <li>Review progress dashboard</li>
                    <li>Test on mobile</li>
                </ol>
                <p><strong>Metrics:</strong></p>
                <ul>
                    <li>Exercises completed: 20</li>
                    <li>Accuracy: ___%</li>
                    <li>Time spent: ___ min</li>
                    <li>Mobile experience: 1-5 ___</li>
                    <li>Would use daily: Y/N</li>
                </ul>
                <p>Log results:</p>
                <pre>echo "Day 4 subjunctive: [results]" >> validation_log.md</pre>
                <div class="checkpoint">‚úÖ Day 4 Checkpoint: 2 apps tested thoroughly</div>`,

            'd5t1': `<h4>üìñ Test aves Workflow</h4>
                <p><strong>Task:</strong> Learn 10 bird names in Spanish</p>
                <ol>
                    <li>Browse all 10 species</li>
                    <li>Complete 10 exercises (mixed types)</li>
                    <li>Check which birds you remember</li>
                    <li>Test on mobile/tablet</li>
                    <li>Note UX friction points</li>
                </ol>
                <p><strong>Metrics:</strong></p>
                <ul>
                    <li>Birds learned: ___/10</li>
                    <li>Exercises completed: 10</li>
                    <li>Exercise variety good: Y/N</li>
                    <li>Would continue tomorrow: Y/N</li>
                </ul>
                <p>Log results:</p>
                <pre>echo "Day 5 aves: [results]" >> validation_log.md</pre>
                <div class="checkpoint">‚úÖ Day 5: aves validated</div>`,

            'd5t2': `<h4>üìñ Test open_learn Workflow</h4>
                <p><strong>Task:</strong> Research recent Colombian economic news</p>
                <ol>
                    <li>Trigger scrape for El Tiempo (10 articles)</li>
                    <li>Search articles for "econom√≠a" or "inflaci√≥n"</li>
                    <li>Export results to PDF</li>
                    <li>Check data quality</li>
                    <li>Test search functionality</li>
                </ol>
                <p><strong>Metrics:</strong></p>
                <ul>
                    <li>Articles scraped: ___</li>
                    <li>Search relevance: 1-5 ___</li>
                    <li>Data quality: 1-5 ___</li>
                    <li>Useful for research: Y/N</li>
                </ul>
                <p>Log results:</p>
                <pre>echo "Day 5 open_learn: [results]" >> validation_log.md</pre>
                <div class="checkpoint">‚úÖ Day 5 Checkpoint: 4 apps thoroughly tested</div>`,

            'd6t1': `<h4>üìñ Review Validation Logs</h4>
                <pre>cat validation_log.md</pre>
                <p><strong>Categorize issues:</strong></p>
                <p><strong>Critical Bugs</strong> (blocks usage):</p>
                <ul><li>[List issues that prevent basic functionality]</li></ul>
                <p><strong>Important UX Issues:</strong></p>
                <ul><li>[List friction points that hurt experience]</li></ul>
                <p><strong>Nice-to-haves:</strong></p>
                <ul><li>[List enhancements for later]</li></ul>
                <div class="checkpoint">‚úÖ Checkpoint: All bugs categorized</div>`,

            'd6t2': `<h4>üìñ Fix All Critical Bugs</h4>
                <p>For each critical bug:</p>
                <p>Tell Claude Code:</p>
                <pre>"Bug: [description]
App: [project name]
Expected: [what should happen]
Actual: [what happens]
Please fix and deploy."</pre>
                <p>After each fix:</p>
                <ul>
                    <li>Test the fix locally</li>
                    <li>Deploy to production</li>
                    <li>Test in production</li>
                    <li>Mark as resolved</li>
                </ul>
                <div class="checkpoint">‚úÖ Checkpoint: All critical bugs fixed and deployed</div>`,

            'd7t1': `<h4>üìñ Usage Analysis</h4>
                <p>Review which apps you opened each day</p>
                <p><strong>Usage Tracking Table:</strong></p>
                <pre>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ App             ‚îÇ M ‚îÇ T ‚îÇ W ‚îÇ T ‚îÇ F ‚îÇ S ‚îÇ S ‚îÇ Total ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ describe_it     ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ 7/7   ‚îÇ
‚îÇ subjunctive     ‚îÇ   ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ   ‚îÇ 5/7   ‚îÇ
‚îÇ aves            ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ   ‚îÇ 3/7   ‚îÇ
‚îÇ open_learn      ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ ‚úì ‚îÇ ‚úì ‚îÇ   ‚îÇ 2/7   ‚îÇ
‚îÇ corporate_intel ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ 0/7   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</pre>
                <p><strong>Priority Classification:</strong></p>
                <ul>
                    <li><strong>5-7 uses = HIGH</strong> (keep, improve, beta test)</li>
                    <li><strong>2-4 uses = MEDIUM</strong> (optimize, then decide)</li>
                    <li><strong>0-1 uses = LOW</strong> (defer or kill)</li>
                </ul>
                <div class="checkpoint">‚úÖ Checkpoint: Clear data-driven priorities established</div>`,

            'd7t2': `<h4>üìñ Prioritize Projects</h4>
                <p><strong>DECISION GATE 1: Which projects to focus on?</strong></p>
                <p>Based on usage data, decide:</p>
                <p><strong>HIGH Priority</strong> (Focus Weeks 2-4):</p>
                <ul>
                    <li>‚ñ° describe_it (7/7 uses) ‚Üí Beta test Week 3</li>
                    <li>‚ñ° subjunctive_practice (5/7 uses) ‚Üí Beta test Week 3</li>
                    <li>‚ñ° [Third project if any reached 5+ uses]</li>
                </ul>
                <p><strong>MEDIUM Priority</strong> (Revisit Month 2):</p>
                <ul>
                    <li>‚ñ° [Projects with 2-4 uses]</li>
                    <li>‚ñ° Improve UX first</li>
                    <li>‚ñ° Retest Week 5</li>
                </ul>
                <p><strong>LOW Priority</strong> (Defer or Archive):</p>
                <ul>
                    <li>‚ñ° [Projects with 0-1 uses]</li>
                    <li>‚ñ° Archive for now</li>
                    <li>‚ñ° Revisit in Month 3 if top projects successful</li>
                </ul>
                <p>Document decisions:</p>
                <pre>nano week1_decisions.md</pre>
                <div class="checkpoint">‚úÖ Checkpoint: Strategic decisions documented</div>`,

            'd7t3': `<h4>üìñ Plan Week 2</h4>
                <p><strong>HIGH Priority Projects Need:</strong></p>
                <ol>
                    <li>Bug fixes from validation</li>
                    <li>UX improvements</li>
                    <li>Beta user recruitment prep</li>
                    <li>Feedback forms creation</li>
                    <li>Monitoring & analytics setup</li>
                </ol>
                <p>Generate Week 2 task list - Tell Claude Code:</p>
                <pre>"Based on these HIGH priority projects: [list]
Create a detailed Week 2 task breakdown with:
- Daily focus areas
- Feature improvements needed
- Beta testing preparation
- Time estimates per task"</pre>
                <ul>
                    <li>Review plan</li>
                    <li>Adjust based on your availability</li>
                </ul>
                <div class="checkpoint">‚úÖ Checkpoint: Week 1 complete, clear priorities set</div>`,

            // WEEK 2 - Days 8-13
            'd8t1': `<h4>üìñ Improve describe_it UX</h4>
    <p>Based on Week 1 usage feedback, implement critical UX improvements and bug fixes for describe_it.</p>
    <pre>Tell Claude Code:
"Based on my usage of describe_it, implement these improvements:

Priority 1 (Must Fix):
1. [Top frustration from validation]
2. [Second issue]

Priority 2 (Nice to Have):
3. [Enhancement]
4. [Quality improvement]

For each:
- Show me the current behavior
- Propose the fix
- Implement after I approve
- Deploy to Vercel
- I'll test immediately"

# Deploy updates
vercel --prod

# Test improvements immediately</pre>
    <ul>
        <li>Focus on top friction points from Week 1 validation</li>
        <li>Fix critical bugs that block usage</li>
        <li>Improve most-used features</li>
        <li>Deploy and test same day</li>
    </ul>
    <div class="checkpoint">‚úÖ Checkpoint: describe_it UX improved and deployed</div>`,

            'd8t2': `<h4>üìñ Improve subjunctive_practice UX</h4>
    <p>Apply same improvement pattern to subjunctive_practice based on personal usage insights.</p>
    <pre>Tell Claude Code:
"For subjunctive_practice, implement:
1. [Critical fix 1]
2. [Critical fix 2]
3. [UX improvement]

Test locally first, then deploy to Railway + Vercel."

# Deploy updates
railway up  # Backend
vercel --prod  # Frontend

# Test thoroughly</pre>
    <ul>
        <li>Fix critical bugs from Week 1</li>
        <li>Improve exercise flow if needed</li>
        <li>Enhance progress tracking</li>
        <li>Test full user journey</li>
    </ul>
    <div class="checkpoint">‚úÖ Checkpoint: subjunctive_practice optimized and tested</div>`,

            'd8t3': `<h4>üìñ Create Beta Testing Assets</h4>
    <p>Prepare all materials needed for beta user recruitment and feedback collection.</p>
    <pre>Tell Claude Code:
"Create beta testing assets for describe_it and subjunctive_practice:

1. Google Forms for feedback (2 forms):
   Questions:
   - How many days did you use it? (1-7)
   - Did you find it helpful? (1-5 stars)
   - What worked well? (text)
   - What was frustrating? (text)
   - Would you pay for premium features? (Y/N/Maybe)
   - If yes, what price: $2.99, $4.99, $9.99/month?
   - Additional comments

   Export as markdown, I'll create in Google Forms

2. Email templates (2 templates):
   - Beta invitation email
   - Weekly check-in email
   - Thank you + feedback request email

3. Onboarding guides (2 guides):
   - Quick start guide for new users
   - Feature walkthrough
   - Troubleshooting FAQ

Put all in ~/deployment_sprint/beta-materials/"</pre>
    <ul>
        <li>Create Google Forms for structured feedback</li>
        <li>Write email templates for beta communication</li>
        <li>Prepare onboarding guides</li>
        <li>Save all materials in beta-materials folder</li>
    </ul>
    <div class="checkpoint">‚úÖ Checkpoint: Beta testing assets ready to use</div>`,

            'd8t4': `<h4>üìñ Setup Analytics Tracking</h4>
    <p>Add simple analytics to track user behavior without external services.</p>
    <pre>Tell Claude Code:
"Add simple analytics tracking to describe_it and subjunctive_practice:

For describe_it:
- Track: Searches performed, descriptions generated, vocab saved
- Store in Supabase analytics table
- Create simple dashboard page at /admin/stats (protected route)

For subjunctive_practice:
- Track: Exercises completed, accuracy rates, daily active users
- Store in PostgreSQL analytics table
- Create dashboard at /admin/stats

Use existing auth for protection.
No external services (Google Analytics), keep it simple."

# Deploy analytics updates
# Test dashboards
# Verify data collection working</pre>
    <ul>
        <li>Create analytics tables in databases</li>
        <li>Track key user actions</li>
        <li>Build protected admin dashboards</li>
        <li>Test data collection</li>
    </ul>
    <div class="checkpoint">‚úÖ Checkpoint: Analytics tracking both apps</div>`
        };

        // Sprint data structure
        const sprintData = {
            weeks: [
                {
                    id: 'week1',
                    title: 'Week 1: Infrastructure & Quick Wins',
                    hours: 40,
                    days: [
                        {
                            id: 'day1',
                            title: 'Day 1 (Monday) - Platform Setup Blitz',
                            hours: 8,
                            tasks: [
                                { id: 'd1t1', title: 'Account Creation Marathon', time: '1.5h', description: 'Sign up for Vercel, Railway, Supabase, OpenAI, Unsplash, Alpha Vantage', priority: 'high' },
                                { id: 'd1t2', title: 'API Keys Harvest', time: '1h', description: 'Collect all API keys and store in password manager', priority: 'high' },
                                { id: 'd1t3', title: 'Generate Security Keys', time: '1.5h', description: 'Generate JWT secrets, API keys for all 6 projects', priority: 'high' },
                                { id: 'd1t4', title: 'Deploy describe_it', time: '1h', description: 'Deploy to Vercel + Supabase, test end-to-end', priority: 'high' },
                                { id: 'd1t5', title: 'Deploy subjunctive_practice', time: '2h', description: 'Deploy backend to Railway, frontend to Vercel', priority: 'high' },
                                { id: 'd1t6', title: 'Validation & Monitoring Setup', time: '1h', description: 'Test both apps, create health check script', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day2',
                            title: 'Day 2 (Tuesday) - Platform Deployments',
                            hours: 8,
                            tasks: [
                                { id: 'd2t1', title: 'Fix aves TypeScript Build', time: '30m', description: 'Exclude test files from production build', priority: 'high' },
                                { id: 'd2t2', title: 'Generate 50 Exercises for aves', time: '1.5h', description: 'Claude Code generates exercises from existing species', priority: 'high' },
                                { id: 'd2t3', title: 'Deploy aves to GitHub Pages', time: '1h', description: 'Build and deploy static site', priority: 'high' },
                                { id: 'd2t4', title: 'Test All 3 Apps', time: '1h', description: 'Comprehensive testing of describe_it, subjunctive, aves', priority: 'high' },
                                { id: 'd2t5', title: 'Deploy open_learn to Railway', time: '4h', description: 'Setup PostgreSQL/Redis, deploy backend, test scrapers', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day3',
                            title: 'Day 3 (Wednesday) - Final Deployment + Automation',
                            hours: 8,
                            tasks: [
                                { id: 'd3t1', title: 'Deploy corporate_intel Locally', time: '2h', description: 'Docker Compose setup, initialize database', priority: 'medium' },
                                { id: 'd3t2', title: 'Import EdTech Companies Data', time: '2h', description: 'Create user, import companies, fetch SEC filings', priority: 'medium' },
                                { id: 'd3t3', title: 'Create Deployment Automation Scripts', time: '2h', description: 'deploy-all.sh, health-check-all.sh, backup-all.sh', priority: 'high' },
                                { id: 'd3t4', title: 'Create Unified Monitoring Dashboard', time: '2h', description: 'Streamlit dashboard for all projects', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day4',
                            title: 'Day 4 (Thursday) - Structured Testing',
                            hours: 2,
                            tasks: [
                                { id: 'd4t1', title: 'Test describe_it Workflow', time: '1h', description: 'Learn 15 Spanish vocabulary words', priority: 'high' },
                                { id: 'd4t2', title: 'Test subjunctive_practice Workflow', time: '1h', description: 'Complete 20 exercises, check progress', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day5',
                            title: 'Day 5 (Friday) - Comprehensive App Testing',
                            hours: 2,
                            tasks: [
                                { id: 'd5t1', title: 'Test aves Workflow', time: '1h', description: 'Learn 10 bird names in Spanish', priority: 'medium' },
                                { id: 'd5t2', title: 'Test open_learn Workflow', time: '1h', description: 'Research Colombian economic news', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day6',
                            title: 'Day 6 (Saturday) - Bug Fixing Sprint',
                            hours: 2,
                            tasks: [
                                { id: 'd6t1', title: 'Review Validation Logs', time: '30m', description: 'Categorize bugs: Critical, Important, Nice-to-have', priority: 'high' },
                                { id: 'd6t2', title: 'Fix All Critical Bugs', time: '1.5h', description: 'Fix and deploy critical issues', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day7',
                            title: 'Day 7 (Sunday) - Week 1 Review & Decision Gate',
                            hours: 2,
                            tasks: [
                                { id: 'd7t1', title: 'Usage Analysis', time: '30m', description: 'Track which apps you used each day', priority: 'high' },
                                { id: 'd7t2', title: 'Prioritize Projects', time: '30m', description: 'Classify as HIGH/MEDIUM/LOW priority', priority: 'high' },
                                { id: 'd7t3', title: 'Plan Week 2', time: '1h', description: 'Create detailed plan for focus projects', priority: 'high' }
                            ]
                        }
                    ]
                },
                {
                    id: 'week2',
                    title: 'Week 2: Optimization & Beta Prep',
                    hours: 35,
                    days: [
                        {
                            id: 'day8',
                            title: 'Day 8 (Monday) - Bug Fixes & UX Improvements',
                            hours: 8,
                            tasks: [
                                { id: 'd8t1', title: 'Improve describe_it UX', time: '2h', description: 'Fix top friction points from Week 1', priority: 'high' },
                                { id: 'd8t2', title: 'Improve subjunctive_practice UX', time: '2h', description: 'Implement critical fixes and enhancements', priority: 'high' },
                                { id: 'd8t3', title: 'Create Beta Testing Assets', time: '2h', description: 'Google Forms, email templates, onboarding guides', priority: 'high' },
                                { id: 'd8t4', title: 'Setup Analytics Tracking', time: '2h', description: 'Add analytics to both apps, create dashboards', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day9',
                            title: 'Day 9 (Tuesday) - Beta Recruitment',
                            hours: 6,
                            tasks: [
                                { id: 'd9t1', title: 'Recruit describe_it Beta Testers', time: '2h', description: 'Post to Reddit, Discord, language exchange apps', priority: 'high' },
                                { id: 'd9t2', title: 'Recruit subjunctive_practice Beta Testers', time: '2h', description: 'Spanish learning communities, teachers', priority: 'high' },
                                { id: 'd9t3', title: 'Process Beta Signups', time: '2h', description: 'Send welcome emails, create tracking sheet', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day10',
                            title: 'Day 10 (Wednesday) - Beta Onboarding',
                            hours: 6,
                            tasks: [
                                { id: 'd10t1', title: 'Onboard describe_it Beta Users', time: '2h', description: 'Send welcome sequence, provide access', priority: 'high' },
                                { id: 'd10t2', title: 'Onboard subjunctive_practice Beta Users', time: '2h', description: 'Welcome emails, quick start guides', priority: 'high' },
                                { id: 'd10t3', title: 'Monitor Beta Activity', time: '2h', description: 'Check analytics, respond to questions, fix critical bugs', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day11',
                            title: 'Day 11 (Thursday) - Mid-Beta Check-in',
                            hours: 3,
                            tasks: [
                                { id: 'd11t1', title: 'Send Mid-Week Check-in Emails', time: '1h', description: 'Ask for quick feedback, identify blockers', priority: 'medium' },
                                { id: 'd11t2', title: 'Implement Quick Wins', time: '2h', description: 'Fix common issues reported by 3+ users', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day12',
                            title: 'Day 12 (Friday) - Feedback Collection',
                            hours: 3,
                            tasks: [
                                { id: 'd12t1', title: 'Send Feedback Request', time: '1h', description: 'Email all beta users with Google Form', priority: 'high' },
                                { id: 'd12t2', title: 'Analyze Feedback', time: '2h', description: 'Create summary report, identify patterns', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day13',
                            title: 'Day 13 (Saturday) - Strategic Planning',
                            hours: 3,
                            tasks: [
                                { id: 'd13t1', title: 'Beta Results Review', time: '1h', description: 'Calculate retention, NPS, willingness to pay', priority: 'high' },
                                { id: 'd13t2', title: 'Plan Weeks 3-4', time: '1h', description: 'Decide which projects to monetize', priority: 'high' },
                                { id: 'd13t3', title: 'Create Monetization Plan', time: '1h', description: 'Stripe integration roadmap', priority: 'high' }
                            ]
                        }
                    ]
                },
                {
                    id: 'week3',
                    title: 'Week 3: Monetization Implementation',
                    hours: 40,
                    days: [
                        {
                            id: 'day14',
                            title: 'Day 14 (Sunday) - Stripe Setup & Planning',
                            hours: 4,
                            tasks: [
                                { id: 'd14t1', title: 'Stripe Account Setup', time: '2h', description: 'Create account, configure products, get API keys', priority: 'high' },
                                { id: 'd14t2', title: 'Generate Payment Integration Code', time: '2h', description: 'Claude generates Stripe code for both apps', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day15',
                            title: 'Day 15 (Monday) - Payment Backend Implementation',
                            hours: 8,
                            tasks: [
                                { id: 'd15t1', title: 'describe_it Payment Backend', time: '2h', description: 'Implement Stripe routes, webhooks, middleware', priority: 'high' },
                                { id: 'd15t2', title: 'subjunctive_practice Payment Backend', time: '2h', description: 'FastAPI Stripe integration', priority: 'high' },
                                { id: 'd15t3', title: 'describe_it Payment Frontend', time: '2h', description: 'Pricing page, billing dashboard, paywalls', priority: 'high' },
                                { id: 'd15t4', title: 'subjunctive_practice Payment Frontend', time: '2h', description: 'Same pattern for subjunctive', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day16',
                            title: 'Day 16 (Tuesday) - Payment Testing',
                            hours: 8,
                            tasks: [
                                { id: 'd16t1', title: 'Test describe_it Payment Flow', time: '2h', description: 'Test free tier limits, checkout, webhooks', priority: 'high' },
                                { id: 'd16t2', title: 'Test subjunctive Payment Flow', time: '2h', description: 'Comprehensive payment testing', priority: 'high' },
                                { id: 'd16t3', title: 'Switch to Live Mode', time: '2h', description: 'Production API keys, test with real card', priority: 'high' },
                                { id: 'd16t4', title: 'Create Admin Dashboards', time: '2h', description: 'Revenue tracking, user metrics, MRR', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day17',
                            title: 'Day 17 (Wednesday) - Public Launch Prep',
                            hours: 8,
                            tasks: [
                                { id: 'd17t1', title: 'Create Demo Videos', time: '1h', description: '2-minute screen captures for each app', priority: 'high' },
                                { id: 'd17t2', title: 'Capture Screenshots', time: '30m', description: '5-6 screenshots per app for marketing', priority: 'high' },
                                { id: 'd17t3', title: 'Generate Marketing Copy', time: '30m', description: 'ProductHunt, Reddit, Twitter posts', priority: 'high' },
                                { id: 'd17t4', title: 'Optimize Landing Pages', time: '2h', description: 'Value prop, CTAs, social proof', priority: 'high' },
                                { id: 'd17t5', title: 'Draft ProductHunt Posts', time: '1h', description: 'Prepare submissions (don\'t submit yet)', priority: 'high' },
                                { id: 'd17t6', title: 'SEO Optimization', time: '2h', description: 'Meta tags, sitemaps, schema markup', priority: 'medium' },
                                { id: 'd17t7', title: 'Plan Launch Calendar', time: '1h', description: 'Schedule posts for Week 4', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day18',
                            title: 'Day 18 (Thursday) - Critical Bug Fixes',
                            hours: 4,
                            tasks: [
                                { id: 'd18t1', title: 'Fix All Pre-Launch Critical Bugs', time: '4h', description: 'Review and fix all blockers', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day19',
                            title: 'Day 19 (Friday) - Performance & Security Audit',
                            hours: 4,
                            tasks: [
                                { id: 'd19t1', title: 'Performance Optimization', time: '2h', description: 'Lighthouse audits, optimize slow endpoints', priority: 'high' },
                                { id: 'd19t2', title: 'Security Audit', time: '2h', description: 'Check for vulnerabilities, harden security', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day20',
                            title: 'Day 20 (Saturday) - Content Creation',
                            hours: 4,
                            tasks: [
                                { id: 'd20t1', title: 'Write Blog Posts', time: '2h', description: '3 posts about building with AI', priority: 'medium' },
                                { id: 'd20t2', title: 'Create Social Media Content', time: '1h', description: 'Twitter threads, LinkedIn posts', priority: 'medium' },
                                { id: 'd20t3', title: 'Create Demo GIFs', time: '1h', description: '10-second demos for social sharing', priority: 'medium' }
                            ]
                        }
                    ]
                },
                {
                    id: 'week4',
                    title: 'Week 4: Public Launch',
                    hours: 35,
                    days: [
                        {
                            id: 'day21',
                            title: 'Day 21 (Monday) - Soft Launch',
                            hours: 7,
                            tasks: [
                                { id: 'd21t1', title: 'Final Pre-Launch Checks', time: '1h', description: 'Verify all systems operational', priority: 'high' },
                                { id: 'd21t2', title: 'Reddit Soft Launch', time: '2h', description: 'Post to r/Spanish, r/languagelearning', priority: 'high' },
                                { id: 'd21t3', title: 'Community Engagement', time: '3h', description: 'Respond to all comments, monitor signups', priority: 'high' },
                                { id: 'd21t4', title: 'Hotfix Critical Issues', time: '1h', description: 'Fix urgent bugs reported by users', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day22',
                            title: 'Day 22 (Tuesday) - ProductHunt Launch #1 (describe_it)',
                            hours: 9,
                            tasks: [
                                { id: 'd22t1', title: 'Submit to ProductHunt (6 AM)', time: '1h', description: 'Post describe_it, share on social media', priority: 'high' },
                                { id: 'd22t2', title: 'ProductHunt Engagement Marathon', time: '4h', description: 'Respond to EVERY comment', priority: 'high' },
                                { id: 'd22t3', title: 'Monitor Metrics & Deploy Hotfixes', time: '4h', description: 'Track rank, signups, conversions, fix issues', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day23',
                            title: 'Day 23 (Wednesday) - Post-Launch Support',
                            hours: 6,
                            tasks: [
                                { id: 'd23t1', title: 'Support & Engagement', time: '3h', description: 'Respond to overnight comments, fix bugs', priority: 'high' },
                                { id: 'd23t2', title: 'Prep subjunctive_practice Launch', time: '3h', description: 'Final testing, refine PH post', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day24',
                            title: 'Day 24 (Thursday) - ProductHunt Launch #2 (subjunctive)',
                            hours: 9,
                            tasks: [
                                { id: 'd24t1', title: 'Submit subjunctive_practice to ProductHunt', time: '1h', description: 'Early morning submission', priority: 'high' },
                                { id: 'd24t2', title: 'All-Day Engagement', time: '8h', description: 'Same process as Day 22', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day25',
                            title: 'Day 25 (Friday) - Post-Launch Engagement',
                            hours: 3,
                            tasks: [
                                { id: 'd25t1', title: 'Community Engagement', time: '2h', description: 'Respond to comments on both launches', priority: 'medium' },
                                { id: 'd25t2', title: 'Metrics Analysis', time: '1h', description: 'Daily metrics review and planning', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day27',
                            title: 'Day 27 (Sunday) - Week 4 Review',
                            hours: 2,
                            tasks: [
                                { id: 'd27t1', title: 'Week 4 Metrics Review', time: '1h', description: 'Analyze launch week results', priority: 'high' },
                                { id: 'd27t2', title: 'Plan Week 5 Optimizations', time: '1h', description: 'Prioritize improvements based on data', priority: 'high' }
                            ]
                        }
                    ]
                },
                {
                    id: 'week5-6',
                    title: 'Weeks 5-6: Iteration & Growth',
                    hours: 70,
                    days: [
                        {
                            id: 'day28-34',
                            title: 'Days 28-34 (Week 5) - Optimize Based on Data',
                            hours: 35,
                            tasks: [
                                { id: 'd28t1', title: 'Daily Analytics Review (Mon-Fri)', time: '2h/day', description: 'Check metrics, prioritize tasks', priority: 'high' },
                                { id: 'd28t2', title: 'Daily Implementation (Mon-Fri)', time: '2h/day', description: 'Ship high-impact improvements', priority: 'high' },
                                { id: 'd28t3', title: 'Daily Content Marketing (Mon-Fri)', time: '2h/day', description: 'Blog posts, social, tutorials', priority: 'medium' },
                                { id: 'd28t4', title: 'Evening Support (Mon-Fri)', time: '1h/day', description: 'User emails, community engagement', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day34',
                            title: 'Day 34 (Sunday) - Week 5 Review',
                            hours: 2,
                            tasks: [
                                { id: 'd34t1', title: 'Week 5 Metrics Snapshot', time: '1h', description: 'Record growth metrics and conversion rates', priority: 'high' },
                                { id: 'd34t2', title: 'Plan Week 6 A/B Tests', time: '1h', description: 'Design experiments for next week', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day35-41',
                            title: 'Days 35-41 (Week 6) - Scale & Experiment',
                            hours: 35,
                            tasks: [
                                { id: 'd35t1', title: 'Daily A/B Testing', time: '2h/day', description: 'Test pricing, CTAs, onboarding', priority: 'high' },
                                { id: 'd35t2', title: 'Daily Feature Development', time: '2h/day', description: 'Ship requested features', priority: 'high' },
                                { id: 'd35t3', title: 'Growth Experiments', time: '2h/day', description: 'New channels, guest posts, videos', priority: 'medium' },
                                { id: 'd35t4', title: 'Metrics & Planning', time: '1h/day', description: 'Review, plan, celebrate wins', priority: 'medium' }
                            ]
                        },
                        {
                            id: 'day41',
                            title: 'Day 41 (Sunday) - Week 6 Review',
                            hours: 2,
                            tasks: [
                                { id: 'd41t1', title: 'Week 6 Metrics Snapshot', time: '1h', description: 'Track A/B test results and feature impact', priority: 'high' },
                                { id: 'd41t2', title: 'Plan Week 7 Analytics', time: '1h', description: 'Prepare for deep analysis week', priority: 'high' }
                            ]
                        }
                    ]
                },
                {
                    id: 'week7-8',
                    title: 'Weeks 7-8: Consolidation & Decision',
                    hours: 60,
                    days: [
                        {
                            id: 'day42-48',
                            title: 'Days 42-48 (Week 7) - Deep Analytics',
                            hours: 30,
                            tasks: [
                                { id: 'd42t1', title: 'Monday: Cohort Analysis', time: '5h', description: 'Retention by cohort, channel performance', priority: 'high' },
                                { id: 'd42t2', title: 'Tuesday: Feature Usage Analysis', time: '5h', description: 'Which features drive retention', priority: 'high' },
                                { id: 'd42t3', title: 'Wednesday: Conversion Funnel', time: '5h', description: 'Fix drop-off points, A/B test', priority: 'high' },
                                { id: 'd42t4', title: 'Thursday: Churn Analysis', time: '5h', description: 'Interview churned users, fix causes', priority: 'high' },
                                { id: 'd42t5', title: 'Friday: Revenue Deep Dive', time: '5h', description: 'LTV:CAC, pricing optimization', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day48',
                            title: 'Day 48 (Sunday) - Week 7 Review',
                            hours: 2,
                            tasks: [
                                { id: 'd48t1', title: 'Week 7 Analytics Summary', time: '1h', description: 'Compile insights from deep analysis week', priority: 'high' },
                                { id: 'd48t2', title: 'Strategic Decisions Preview', time: '1h', description: 'Prepare for Week 8 decision week', priority: 'high' }
                            ]
                        },
                        {
                            id: 'day49-55',
                            title: 'Days 49-55 (Week 8) - Strategic Decisions',
                            hours: 30,
                            tasks: [
                                { id: 'd49t1', title: 'Monday-Tuesday: Project Scoring', time: '8h', description: 'Score all projects on 4 dimensions', priority: 'high' },
                                { id: 'd49t2', title: 'Wednesday-Friday: Strategic Planning', time: '12h', description: 'Decide to double down, maintain, or archive each project', priority: 'high' },
                                { id: 'd49t3', title: 'Weekend: Month 3 Roadmap', time: '10h', description: 'Plan focus for next 30 days', priority: 'high' }
                            ]
                        }
                    ]
                },
                {
                    id: 'month3',
                    title: 'Month 3 (Days 56-90): Scale Winners',
                    hours: 120,
                    days: [
                        {
                            id: 'day56-90',
                            title: 'Days 56-90 - Sustainable Growth Routine',
                            hours: 120,
                            tasks: [
                                { id: 'd56t1', title: 'Daily Development (Mon-Fri)', time: '2h/day', description: 'Feature development for top projects', priority: 'high' },
                                { id: 'd56t2', title: 'Daily Support (Mon-Fri)', time: '1h/day', description: 'User support and community', priority: 'high' },
                                { id: 'd56t3', title: 'Daily Marketing (Mon-Fri)', time: '1h/day', description: 'Consistent content creation', priority: 'medium' },
                                { id: 'd56t4', title: 'Weekly Deep Work (Saturdays)', time: '4h/week', description: 'Major features or optimizations', priority: 'medium' }
                            ]
                        }
                    ]
                }
            ]
        };

        // State management
        let state = {
            tasks: {},
            notes: {}, // Structure: { dayId: { summary: '', wins: '', blockers: '', decisions: '', tomorrow: '', lastUpdated: ISO date } }
            taskNotes: {}, // Structure: { taskId: { note: '', lastUpdated: ISO date } }
            metrics: {},
            currentDay: 1,
            startDate: null,
            projectFocus: [],
            version: '1.2' // Track version for future migrations
        };

        // Initialize
        function init() {
            loadState();
            renderStats();
            renderSprint();
            startAutoSave();
        }

        // Load state from localStorage
        function loadState() {
            const saved = localStorage.getItem('deploymentSprintState');
            if (saved) {
                const loadedState = JSON.parse(saved);

                // Migrate old note format to new format if needed
                if (loadedState.notes) {
                    Object.keys(loadedState.notes).forEach(dayId => {
                        const note = loadedState.notes[dayId];
                        // If old format (string), convert to new format (object)
                        if (typeof note === 'string') {
                            loadedState.notes[dayId] = {
                                summary: note,
                                wins: '',
                                blockers: '',
                                decisions: '',
                                tomorrow: '',
                                lastUpdated: new Date().toISOString()
                            };
                        }
                    });
                }

                // Ensure taskNotes exists (for backwards compatibility)
                if (!loadedState.taskNotes) {
                    loadedState.taskNotes = {};
                }

                // Ensure all required state properties exist
                state = {
                    tasks: loadedState.tasks || {},
                    notes: loadedState.notes || {},
                    taskNotes: loadedState.taskNotes || {},
                    metrics: loadedState.metrics || {},
                    currentDay: loadedState.currentDay || 1,
                    startDate: loadedState.startDate || null,
                    projectFocus: loadedState.projectFocus || [],
                    version: '1.2'
                };

                // Set start date if not set
                if (!state.startDate && Object.keys(state.tasks).length > 0) {
                    state.startDate = new Date().toISOString();
                }
            } else {
                // First time loading - initialize with defaults
                state = {
                    tasks: {},
                    notes: {},
                    taskNotes: {},
                    metrics: {},
                    currentDay: 1,
                    startDate: null,
                    projectFocus: [],
                    version: '1.2'
                };
            }
        }

        // Save state to localStorage
        function saveState() {
            try {
                const stateString = JSON.stringify(state);
                localStorage.setItem('deploymentSprintState', stateString);
                localStorage.setItem('deploymentSprintLastSave', new Date().toISOString());

                // Verify save succeeded by reading back
                const verified = localStorage.getItem('deploymentSprintState');
                if (!verified || verified !== stateString) {
                    throw new Error('Save verification failed');
                }

                console.log('State saved successfully. Size:', Math.round(stateString.length / 1024), 'KB');
                return true;
            } catch (e) {
                console.error('Failed to save state:', e);

                // Check if quota exceeded
                if (e.name === 'QuotaExceededError') {
                    alert('‚ö†Ô∏è Storage quota exceeded! Your notes may be too large. Please export your progress as backup and consider trimming old notes.');
                } else {
                    alert('‚ö†Ô∏è Failed to save progress. Try exporting as backup. Error: ' + e.message);
                }
                return false;
            }
        }

        // Auto-save every 30 seconds
        function startAutoSave() {
            setInterval(() => {
                saveState();
                console.log('Background auto-save completed:', new Date().toLocaleTimeString());
            }, 30000);
        }

        // Calculate statistics
        function calculateStats() {
            let totalTasks = 0;
            let completedTasks = 0;
            let totalHours = 0;
            let completedHours = 0;

            sprintData.weeks.forEach(week => {
                week.days.forEach(day => {
                    day.tasks.forEach(task => {
                        totalTasks++;
                        const hours = parseFloat(task.time) || 0;
                        totalHours += hours;

                        if (state.tasks[task.id]) {
                            completedTasks++;
                            completedHours += hours;
                        }
                    });
                });
            });

            return {
                totalTasks,
                completedTasks,
                totalHours: Math.round(totalHours),
                completedHours: Math.round(completedHours),
                percentComplete: Math.round((completedTasks / totalTasks) * 100),
                daysActive: state.startDate ? Math.floor((Date.now() - new Date(state.startDate)) / (1000 * 60 * 60 * 24)) : 0
            };
        }

        // Render statistics cards
        function renderStats() {
            const stats = calculateStats();
            const html = `
                <div class="stat-card">
                    <h3>Overall Progress</h3>
                    <div class="value">${stats.percentComplete}%</div>
                    <div class="subtext">${stats.completedTasks} of ${stats.totalTasks} tasks</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${stats.percentComplete}%"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <h3>Hours Invested</h3>
                    <div class="value">${stats.completedHours}h</div>
                    <div class="subtext">of ${stats.totalHours}h planned</div>
                </div>
                <div class="stat-card">
                    <h3>Days Active</h3>
                    <div class="value">${stats.daysActive}</div>
                    <div class="subtext">Sprint day ${state.currentDay} of 90</div>
                </div>
                <div class="stat-card">
                    <h3>Current MRR</h3>
                    <div class="value">$${state.metrics.mrr || 0}</div>
                    <div class="subtext">${state.metrics.payingCustomers || 0} paying customers</div>
                </div>
            `;
            document.getElementById('statsCards').innerHTML = html;
        }

        // Render sprint content
        function renderSprint() {
            let html = '';

            sprintData.weeks.forEach((week, weekIdx) => {
                const weekTasks = [];
                const weekCompleted = [];

                week.days.forEach(day => {
                    day.tasks.forEach(task => {
                        weekTasks.push(task.id);
                        if (state.tasks[task.id]) weekCompleted.push(task.id);
                    });
                });

                const weekProgress = weekTasks.length > 0
                    ? Math.round((weekCompleted.length / weekTasks.length) * 100)
                    : 0;

                const isCompleted = weekProgress === 100;
                const isCurrent = !isCompleted && weekIdx === 0 ||
                    (weekIdx > 0 && sprintData.weeks[weekIdx - 1].days.every(d =>
                        d.tasks.every(t => state.tasks[t.id])));

                html += `
                    <div class="week-section ${isCompleted ? 'completed' : ''} ${isCurrent ? 'current' : ''}">
                        <div class="week-header" onclick="toggleWeek('${week.id}')">
                            <h2>üìÖ ${week.title}</h2>
                            <div class="week-progress">${weekProgress}% ‚Ä¢ ${week.hours}h total</div>
                        </div>
                        <div id="${week.id}-content" class="week-content">
                            ${renderDays(week.days, week.id)}
                        </div>
                    </div>
                `;
            });

            document.getElementById('sprintContent').innerHTML = html;
        }

        // Render days for a week
        function renderDays(days, weekId) {
            return days.map(day => {
                const dayCompleted = day.tasks.every(t => state.tasks[t.id]);
                const dayProgress = Math.round((day.tasks.filter(t => state.tasks[t.id]).length / day.tasks.length) * 100);

                return `
                    <div class="day-card ${dayCompleted ? 'completed' : ''}">
                        <div class="day-header" onclick="toggleDay('${day.id}')">
                            <div class="day-title">
                                <span>${dayCompleted ? '‚úÖ' : '‚è∏Ô∏è'}</span>
                                <span>${day.title}</span>
                            </div>
                            <div class="day-meta">${dayProgress}% ‚Ä¢ ${day.hours}h</div>
                        </div>
                        <div id="${day.id}-tasks" class="task-list">
                            ${renderTasks(day.tasks, day.id)}
                            ${renderDayNotes(day.id)}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Render tasks for a day
        function renderTasks(tasks, dayId) {
            return tasks.map(task => {
                const isCompleted = state.tasks[task.id] || false;
                const hasNote = state.taskNotes && state.taskNotes[task.id] && state.taskNotes[task.id].note;
                const taskNote = (state.taskNotes && state.taskNotes[task.id]?.note) || '';
                const priorityBadge = `<span class="badge ${task.priority}">${task.priority}</span>`;

                return `
                    <div class="task-item ${isCompleted ? 'completed' : ''}" id="task-${task.id}">
                        <input
                            type="checkbox"
                            class="task-checkbox"
                            ${isCompleted ? 'checked' : ''}
                            onchange="toggleTask('${task.id}')"
                        />
                        <div class="task-content">
                            <div class="task-title">${task.title} ${priorityBadge}</div>
                            <div class="task-description">${task.description}</div>
                            <div class="task-actions">
                                <span class="task-time">‚è±Ô∏è ${task.time}</span>
                                ${taskGuides[task.id] ? `<button class="task-guide-btn" onclick="toggleTaskGuide('${task.id}', event)">üìñ View Guide</button>` : ''}
                                <button class="task-note-btn ${hasNote ? 'has-note' : ''}" onclick="toggleTaskNote('${task.id}', event)">
                                    ${hasNote ? 'üìù View Note' : '‚ûï Add Note'}
                                </button>
                            </div>
                            ${taskGuides[task.id] ? `<div class="task-guide-area" id="task-guide-${task.id}">${taskGuides[task.id]}</div>` : ''}
                            <div class="task-note-area" id="task-note-${task.id}">
                                <div class="task-note-header">
                                    <span>üìù Task Notes</span>
                                    <div class="task-save-indicator" id="task-save-${task.id}">
                                        <span class="indicator-icon">‚úÖ</span>
                                        <span class="indicator-text">Saved</span>
                                    </div>
                                </div>
                                <textarea
                                    id="task-note-text-${task.id}"
                                    placeholder="Notes for this specific task...&#10;‚Ä¢ Commands used&#10;‚Ä¢ Issues encountered&#10;‚Ä¢ Solutions found&#10;‚Ä¢ Links/references"
                                    oninput="handleTaskNoteInput('${task.id}', this)"
                                >${taskNote}</textarea>
                                <div class="task-note-footer">
                                    <span class="char-count">${taskNote.length} characters</span>
                                    <div class="notes-actions">
                                        <button class="save-btn" onclick="saveTaskNoteNow('${task.id}', event)">üíæ Save</button>
                                        <button class="task-note-btn" onclick="toggleTaskNote('${task.id}', event)" style="padding: 4px 12px;">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Render notes section for a day
        function renderDayNotes(dayId) {
            const notesData = state.notes[dayId] || {
                summary: '',
                wins: '',
                blockers: '',
                decisions: '',
                tomorrow: ''
            };

            return `
                <div class="notes-section">
                    <div class="notes-header">
                        <h4>üìù Daily Journal</h4>
                        <div class="save-indicator" id="${dayId}-save-indicator">
                            <span class="indicator-icon">üíæ</span>
                            <span class="indicator-text">Saved</span>
                        </div>
                    </div>

                    <div class="notes-tabs">
                        <div class="note-tab active" onclick="switchNoteTab('${dayId}', 'summary')">
                            üìã Summary
                        </div>
                        <div class="note-tab" onclick="switchNoteTab('${dayId}', 'wins')">
                            üéâ Wins
                        </div>
                        <div class="note-tab" onclick="switchNoteTab('${dayId}', 'blockers')">
                            üöß Blockers
                        </div>
                        <div class="note-tab" onclick="switchNoteTab('${dayId}', 'decisions')">
                            üí° Decisions
                        </div>
                        <div class="note-tab" onclick="switchNoteTab('${dayId}', 'tomorrow')">
                            ‚û°Ô∏è Tomorrow
                        </div>
                    </div>

                    <div class="note-input-container">
                        <div class="note-type-content active" id="${dayId}-summary-content">
                            <textarea
                                id="${dayId}-summary"
                                placeholder="Brief overview of the day's accomplishments and status..."
                                oninput="handleNoteInput('${dayId}', 'summary', this)"
                            >${notesData.summary || ''}</textarea>
                            <div class="notes-footer">
                                <span class="char-count" id="${dayId}-summary-count">${(notesData.summary || '').length} characters</span>
                                <div class="notes-actions">
                                    <button class="save-btn" onclick="saveNoteNow('${dayId}', 'summary')">üíæ Save Now</button>
                                </div>
                            </div>
                        </div>

                        <div class="note-type-content" id="${dayId}-wins-content">
                            <textarea
                                id="${dayId}-wins"
                                placeholder="What went well today? Celebrate your wins! üéâ&#10;‚Ä¢ Successfully deployed describe_it&#10;‚Ä¢ Fixed critical CORS bug&#10;‚Ä¢ Got first 5 beta signups"
                                oninput="handleNoteInput('${dayId}', 'wins', this)"
                            >${notesData.wins || ''}</textarea>
                            <div class="notes-footer">
                                <span class="char-count" id="${dayId}-wins-count">${(notesData.wins || '').length} characters</span>
                                <div class="notes-actions">
                                    <button class="save-btn" onclick="saveNoteNow('${dayId}', 'wins')">üíæ Save Now</button>
                                </div>
                            </div>
                        </div>

                        <div class="note-type-content" id="${dayId}-blockers-content">
                            <textarea
                                id="${dayId}-blockers"
                                placeholder="What blocked you? What needs fixing? üöß&#10;‚Ä¢ Vercel deployment failing (need to debug)&#10;‚Ä¢ Stripe webhook not triggering&#10;‚Ä¢ Waiting for API key approval"
                                oninput="handleNoteInput('${dayId}', 'blockers', this)"
                            >${notesData.blockers || ''}</textarea>
                            <div class="notes-footer">
                                <span class="char-count" id="${dayId}-blockers-count">${(notesData.blockers || '').length} characters</span>
                                <div class="notes-actions">
                                    <button class="save-btn" onclick="saveNoteNow('${dayId}', 'blockers')">üíæ Save Now</button>
                                </div>
                            </div>
                        </div>

                        <div class="note-type-content" id="${dayId}-decisions-content">
                            <textarea
                                id="${dayId}-decisions"
                                placeholder="Key decisions made today üí°&#10;‚Ä¢ Decided to focus on describe_it + subjunctive (most usage)&#10;‚Ä¢ Pricing: $4.99/month for Pro tier&#10;‚Ä¢ Will defer aves until Month 2"
                                oninput="handleNoteInput('${dayId}', 'decisions', this)"
                            >${notesData.decisions || ''}</textarea>
                            <div class="notes-footer">
                                <span class="char-count" id="${dayId}-decisions-count">${(notesData.decisions || '').length} characters</span>
                                <div class="notes-actions">
                                    <button class="save-btn" onclick="saveNoteNow('${dayId}', 'decisions')">üíæ Save Now</button>
                                </div>
                            </div>
                        </div>

                        <div class="note-type-content" id="${dayId}-tomorrow-content">
                            <textarea
                                id="${dayId}-tomorrow"
                                placeholder="Plan for tomorrow ‚û°Ô∏è&#10;‚Ä¢ Deploy aves to GitHub Pages&#10;‚Ä¢ Test all 3 apps on mobile&#10;‚Ä¢ Create monitoring dashboard&#10;‚Ä¢ Fix bug from today's blockers"
                                oninput="handleNoteInput('${dayId}', 'tomorrow', this)"
                            >${notesData.tomorrow || ''}</textarea>
                            <div class="notes-footer">
                                <span class="char-count" id="${dayId}-tomorrow-count">${(notesData.tomorrow || '').length} characters</span>
                                <div class="notes-actions">
                                    <button class="save-btn" onclick="saveNoteNow('${dayId}', 'tomorrow')">üíæ Save Now</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    ${['day7', 'day13', 'day21', 'day27', 'day34', 'day41', 'day48', 'day49-55'].includes(dayId) ? renderMetricsInput(dayId) : ''}
                </div>
            `;
        }

        // Render metrics input for decision gate days
        function renderMetricsInput(dayId) {
            const metrics = state.metrics[dayId] || {};

            let fields = [];
            let headerText = '';

            // Week 1 End
            if (dayId === 'day7') {
                headerText = 'Week 1 Results - Decision Gate';
                fields = [
                    { key: 'deployedProjects', label: 'Projects Deployed', type: 'number', placeholder: '5' },
                    { key: 'focusProjects', label: 'Focus Projects (names)', type: 'text', placeholder: 'describe_it, subjunctive_practice' }
                ];
            }
            // Week 2 End
            else if (dayId === 'day13') {
                headerText = 'Week 2 Results - Beta Validation';
                fields = [
                    { key: 'betaUsers', label: 'Total Beta Users', type: 'number', placeholder: '20' },
                    { key: 'retention', label: 'Retention Rate (%)', type: 'number', placeholder: '65' },
                    { key: 'nps', label: 'Would Recommend (%)', type: 'number', placeholder: '75' },
                    { key: 'willingToPay', label: 'Willing to Pay (%)', type: 'number', placeholder: '50' }
                ];
            }
            // Week 4 Launch Day
            else if (dayId === 'day21') {
                headerText = 'Day 21 (Launch Monday) - Initial Launch Metrics';
                fields = [
                    { key: 'totalSignups', label: 'Total Signups', type: 'number', placeholder: '50' },
                    { key: 'weeklyActive', label: 'Weekly Active Users', type: 'number', placeholder: '20' },
                    { key: 'payingCustomers', label: 'Paying Customers', type: 'number', placeholder: '2' },
                    { key: 'mrr', label: 'MRR ($)', type: 'number', placeholder: '10' }
                ];
            }
            // Week 4 End
            else if (dayId === 'day27') {
                headerText = 'Week 4 End - Launch Week Results';
                fields = [
                    { key: 'totalSignups', label: 'Total Signups', type: 'number', placeholder: '150' },
                    { key: 'weeklyActive', label: 'Weekly Active Users', type: 'number', placeholder: '60' },
                    { key: 'payingCustomers', label: 'Paying Customers', type: 'number', placeholder: '8' },
                    { key: 'mrr', label: 'MRR ($)', type: 'number', placeholder: '40' },
                    { key: 'conversionRate', label: 'Conversion Rate (%)', type: 'number', placeholder: '5' }
                ];
            }
            // Week 5 End
            else if (dayId === 'day34') {
                headerText = 'Week 5 End - Growth Metrics';
                fields = [
                    { key: 'totalSignups', label: 'Total Signups', type: 'number', placeholder: '250' },
                    { key: 'weeklyActive', label: 'Weekly Active Users', type: 'number', placeholder: '100' },
                    { key: 'payingCustomers', label: 'Paying Customers', type: 'number', placeholder: '15' },
                    { key: 'mrr', label: 'MRR ($)', type: 'number', placeholder: '100' },
                    { key: 'conversionRate', label: 'Conversion Rate (%)', type: 'number', placeholder: '6' },
                    { key: 'churnRate', label: 'Churn Rate (%)', type: 'number', placeholder: '25' }
                ];
            }
            // Week 6 End
            else if (dayId === 'day41') {
                headerText = 'Week 6 End - Experimentation Results';
                fields = [
                    { key: 'totalSignups', label: 'Total Signups', type: 'number', placeholder: '400' },
                    { key: 'weeklyActive', label: 'Weekly Active Users', type: 'number', placeholder: '150' },
                    { key: 'payingCustomers', label: 'Paying Customers', type: 'number', placeholder: '25' },
                    { key: 'mrr', label: 'MRR ($)', type: 'number', placeholder: '200' },
                    { key: 'conversionRate', label: 'Conversion Rate (%)', type: 'number', placeholder: '6.5' },
                    { key: 'churnRate', label: 'Churn Rate (%)', type: 'number', placeholder: '20' }
                ];
            }
            // Week 7 End
            else if (dayId === 'day48') {
                headerText = 'Week 7 End - Analytics Insights';
                fields = [
                    { key: 'totalSignups', label: 'Total Signups', type: 'number', placeholder: '600' },
                    { key: 'weeklyActive', label: 'Weekly Active Users', type: 'number', placeholder: '220' },
                    { key: 'payingCustomers', label: 'Paying Customers', type: 'number', placeholder: '40' },
                    { key: 'mrr', label: 'MRR ($)', type: 'number', placeholder: '300' },
                    { key: 'conversionRate', label: 'Conversion Rate (%)', type: 'number', placeholder: '7' },
                    { key: 'churnRate', label: 'Churn Rate (%)', type: 'number', placeholder: '18' },
                    { key: 'ltv', label: 'LTV ($)', type: 'number', placeholder: '60' },
                    { key: 'cac', label: 'CAC ($)', type: 'number', placeholder: '15' }
                ];
            }
            // Week 8 End
            else if (dayId === 'day49-55') {
                headerText = 'Week 8 End - Strategic Decision Point';
                fields = [
                    { key: 'totalSignups', label: 'Total Signups', type: 'number', placeholder: '800' },
                    { key: 'weeklyActive', label: 'Weekly Active Users', type: 'number', placeholder: '300' },
                    { key: 'payingCustomers', label: 'Paying Customers', type: 'number', placeholder: '50' },
                    { key: 'mrr', label: 'MRR ($)', type: 'number', placeholder: '400' },
                    { key: 'conversionRate', label: 'Conversion Rate (%)', type: 'number', placeholder: '7.5' },
                    { key: 'churnRate', label: 'Churn Rate (%)', type: 'number', placeholder: '15' },
                    { key: 'ltv', label: 'LTV ($)', type: 'number', placeholder: '80' },
                    { key: 'cac', label: 'CAC ($)', type: 'number', placeholder: '20' }
                ];
            }

            if (fields.length === 0) return '';

            return `
                <div class="metrics-input">
                    <div class="metrics-header">
                        <span>‚ö°</span>
                        <span>${headerText}</span>
                    </div>
                    ${fields.map(field => `
                        <div class="metric-field">
                            <label>${field.label}:</label>
                            <input
                                type="${field.type}"
                                value="${metrics[field.key] || ''}"
                                placeholder="${field.placeholder || ''}"
                                oninput="handleMetricInput('${dayId}', '${field.key}', this)"
                            />
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Handle metric input with debounced save
        const debouncedSaveMetric = debounce((dayId, key, value) => {
            if (!state.metrics[dayId]) state.metrics[dayId] = {};
            state.metrics[dayId][key] = value;

            // Update global MRR if this is an MRR field
            if (key === 'mrr') {
                state.metrics.mrr = value;
            }
            if (key === 'payingCustomers') {
                state.metrics.payingCustomers = value;
            }

            saveState();
            renderStats();
        }, 800);

        function handleMetricInput(dayId, key, input) {
            debouncedSaveMetric(dayId, key, input.value);
        }

        // Toggle task completion
        function toggleTask(taskId) {
            state.tasks[taskId] = !state.tasks[taskId];

            // Set start date on first task completion
            if (!state.startDate && state.tasks[taskId]) {
                state.startDate = new Date().toISOString();
            }

            saveState();
            renderStats();
            renderSprint();
        }

        // Debounce function for auto-save
        let saveTimers = {};

        function debounce(func, wait) {
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(saveTimers[args[0]]);
                    func(...args);
                };
                clearTimeout(saveTimers[args[0]]);
                saveTimers[args[0]] = setTimeout(later, wait);
            };
        }

        // Handle note input with debounced auto-save
        const debouncedSaveNotes = debounce((dayId, noteType, value) => {
            if (!state.notes[dayId]) {
                state.notes[dayId] = {};
            }
            state.notes[dayId][noteType] = value;
            state.notes[dayId].lastUpdated = new Date().toISOString();

            saveState();
            showSaveIndicator(dayId, 'saved');
        }, 1000);

        function handleNoteInput(dayId, noteType, textarea) {
            // Update character count
            const count = textarea.value.length;
            const countEl = document.getElementById(`${dayId}-${noteType}-count`);
            if (countEl) {
                countEl.textContent = `${count} characters`;
            }

            // Show saving indicator
            showSaveIndicator(dayId, 'saving');

            // Debounced save
            debouncedSaveNotes(dayId, noteType, textarea.value);
        }

        // Show save indicator
        function showSaveIndicator(dayId, status) {
            const indicator = document.getElementById(`${dayId}-save-indicator`);
            if (!indicator) return;

            indicator.classList.remove('saving', 'saved');
            indicator.classList.add(status, 'show');

            if (status === 'saving') {
                indicator.querySelector('.indicator-icon').textContent = '‚è≥';
                indicator.querySelector('.indicator-text').textContent = 'Saving...';
            } else {
                indicator.querySelector('.indicator-icon').textContent = '‚úÖ';
                indicator.querySelector('.indicator-text').textContent = 'Saved';

                // Hide after 2 seconds
                setTimeout(() => {
                    indicator.classList.remove('show');
                }, 2000);
            }
        }

        // Switch note tab
        function switchNoteTab(dayId, noteType) {
            // Update tab active states
            const dayEl = document.getElementById(`${dayId}-tasks`).closest('.day-card');
            if (!dayEl) return;

            const tabs = dayEl.querySelectorAll('.note-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // Show corresponding content
            const contents = dayEl.querySelectorAll('.note-type-content');
            contents.forEach(content => content.classList.remove('active'));

            const targetContent = document.getElementById(`${dayId}-${noteType}-content`);
            if (targetContent) {
                targetContent.classList.add('active');
            }
        }

        // Toggle task guide visibility
        function toggleTaskGuide(taskId, event) {
            if (event) {
                event.stopPropagation();
                event.preventDefault();
            }

            const guideArea = document.getElementById(`task-guide-${taskId}`);
            if (guideArea) {
                guideArea.classList.toggle('show');

                // Update button text
                const btn = event.target;
                if (guideArea.classList.contains('show')) {
                    btn.textContent = 'üìï Hide Guide';
                } else {
                    btn.textContent = 'üìñ View Guide';
                }
            }
        }

        // Toggle task note visibility
        function toggleTaskNote(taskId, event) {
            if (event) {
                event.stopPropagation();
                event.preventDefault();
            }

            const noteArea = document.getElementById(`task-note-${taskId}`);
            const btn = document.querySelector(`#task-${taskId} .task-note-btn`);

            if (noteArea) {
                const isShowing = noteArea.classList.contains('show');
                noteArea.classList.toggle('show');

                // Focus textarea when opening
                if (!isShowing) {
                    const textarea = noteArea.querySelector('textarea');
                    setTimeout(() => textarea.focus(), 100);
                }
            }
        }

        // Handle task note input with debounced save
        const debouncedSaveTaskNote = debounce((taskId, value) => {
            if (!state.taskNotes[taskId]) {
                state.taskNotes[taskId] = {};
            }
            state.taskNotes[taskId].note = value;
            state.taskNotes[taskId].lastUpdated = new Date().toISOString();

            saveState();
            showTaskSaveIndicator(taskId, 'saved');

            // Update button text if note exists
            const btn = document.querySelector(`#task-${taskId} .task-note-btn`);
            if (btn) {
                if (value.trim()) {
                    btn.classList.add('has-note');
                    btn.textContent = 'üìù View Note';
                } else {
                    btn.classList.remove('has-note');
                    btn.textContent = '‚ûï Add Note';
                }
            }
        }, 1000);

        function handleTaskNoteInput(taskId, textarea) {
            // Update character count
            const count = textarea.value.length;
            const countEl = textarea.parentElement.querySelector('.char-count');
            if (countEl) {
                countEl.textContent = `${count} characters`;
            }

            // Show saving indicator
            showTaskSaveIndicator(taskId, 'saving');

            // Debounced save
            debouncedSaveTaskNote(taskId, textarea.value);
        }

        // Show task save indicator
        function showTaskSaveIndicator(taskId, status) {
            const indicator = document.getElementById(`task-save-${taskId}`);
            if (!indicator) return;

            indicator.classList.add('show');

            if (status === 'saving') {
                indicator.querySelector('.indicator-icon').textContent = '‚è≥';
                indicator.querySelector('.indicator-text').textContent = 'Saving...';
            } else {
                indicator.querySelector('.indicator-icon').textContent = '‚úÖ';
                indicator.querySelector('.indicator-text').textContent = 'Saved';

                // Hide after 2 seconds
                setTimeout(() => {
                    indicator.classList.remove('show');
                }, 2000);
            }
        }

        // Manual save for task note (immediate save on button click)
        function saveTaskNoteNow(taskId, event) {
            if (event) {
                event.stopPropagation();
                event.preventDefault();
            }

            const textarea = document.getElementById(`task-note-text-${taskId}`);
            if (!textarea) return;

            const value = textarea.value;

            // Cancel any pending debounced save
            if (saveTimers[taskId]) {
                clearTimeout(saveTimers[taskId]);
            }

            // Save immediately
            if (!state.taskNotes[taskId]) {
                state.taskNotes[taskId] = {};
            }
            state.taskNotes[taskId].note = value;
            state.taskNotes[taskId].lastUpdated = new Date().toISOString();

            saveState();
            showTaskSaveIndicator(taskId, 'saved');

            // Update button text
            const btn = document.querySelector(`#task-${taskId} .task-note-btn`);
            if (btn) {
                if (value.trim()) {
                    btn.classList.add('has-note');
                    btn.textContent = 'üìù View Note';
                } else {
                    btn.classList.remove('has-note');
                    btn.textContent = '‚ûï Add Note';
                }
            }

            // Visual feedback on save button
            const saveBtn = event.target;
            const originalText = saveBtn.textContent;
            saveBtn.textContent = '‚úÖ Saved!';
            saveBtn.style.background = '#059669';
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.style.background = '';
            }, 1500);
        }

        // Manual save for day note (immediate save on button click)
        function saveNoteNow(dayId, noteType) {
            const textarea = document.getElementById(`${dayId}-${noteType}`);
            if (!textarea) return;

            const value = textarea.value;

            // Cancel any pending debounced save
            const timerKey = `${dayId}-${noteType}`;
            if (saveTimers[timerKey]) {
                clearTimeout(saveTimers[timerKey]);
            }

            // Save immediately
            if (!state.notes[dayId]) {
                state.notes[dayId] = {};
            }
            state.notes[dayId][noteType] = value;
            state.notes[dayId].lastUpdated = new Date().toISOString();

            saveState();
            showSaveIndicator(dayId, 'saved');

            // Visual feedback on save button
            const saveBtn = event.target;
            const originalText = saveBtn.textContent;
            saveBtn.textContent = '‚úÖ Saved!';
            saveBtn.style.background = '#059669';
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.style.background = '';
            }, 1500);
        }

        // Note: saveMetric replaced by handleMetricInput + debouncedSaveMetric above

        // Toggle week visibility
        function toggleWeek(weekId) {
            const content = document.getElementById(`${weekId}-content`);
            content.classList.toggle('hidden');
        }

        // Toggle day visibility
        function toggleDay(dayId) {
            const tasks = document.getElementById(`${dayId}-tasks`);
            tasks.classList.toggle('expanded');
        }

        // Toggle all weeks
        function toggleAllWeeks() {
            sprintData.weeks.forEach(week => {
                const content = document.getElementById(`${week.id}-content`);
                if (content) {
                    content.classList.toggle('hidden');
                }
            });
        }

        // Export progress
        function exportProgress() {
            const exportData = {
                state: state,
                exportDate: new Date().toISOString(),
                version: '1.0'
            };

            document.getElementById('exportData').value = JSON.stringify(exportData, null, 2);
            document.getElementById('exportModal').classList.add('show');
        }

        // Import progress
        function importProgress() {
            document.getElementById('importModal').classList.add('show');
        }

        // Do import
        function doImport() {
            try {
                const data = JSON.parse(document.getElementById('importData').value);
                if (data.state) {
                    state = data.state;
                    saveState();
                    renderStats();
                    renderSprint();
                    alert('‚úÖ Progress imported successfully!');
                    closeModal();
                }
            } catch (e) {
                alert('‚ùå Invalid JSON. Please check your import data.');
            }
        }

        // Copy export to clipboard
        function copyExport() {
            const textarea = document.getElementById('exportData');
            textarea.select();
            document.execCommand('copy');
            alert('‚úÖ Copied to clipboard!');
        }

        // Open metrics modal
        function openMetricsModal() {
            // Pre-fill with current values
            const currentMetrics = state.metrics || {};
            document.getElementById('quick-signups').value = currentMetrics.totalSignups || '';
            document.getElementById('quick-active').value = currentMetrics.weeklyActive || '';
            document.getElementById('quick-customers').value = currentMetrics.payingCustomers || '';
            document.getElementById('quick-mrr').value = currentMetrics.mrr || '';

            document.getElementById('metricsModal').classList.add('show');
        }

        // Save quick metrics
        function saveQuickMetrics() {
            const signups = document.getElementById('quick-signups').value;
            const active = document.getElementById('quick-active').value;
            const customers = document.getElementById('quick-customers').value;
            const mrr = document.getElementById('quick-mrr').value;

            // Update global metrics
            if (signups) state.metrics.totalSignups = parseInt(signups);
            if (active) state.metrics.weeklyActive = parseInt(active);
            if (customers) state.metrics.payingCustomers = parseInt(customers);
            if (mrr) state.metrics.mrr = parseInt(mrr);

            state.metrics.lastQuickUpdate = new Date().toISOString();

            saveState();
            renderStats();
            closeModal();

            // Show success feedback
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '‚úÖ Saved!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 1500);
        }

        // Close modal
        function closeModal() {
            document.getElementById('metricsModal').classList.remove('show');
            document.getElementById('exportModal').classList.remove('show');
            document.getElementById('importModal').classList.remove('show');
        }

        // Reset all progress
        function resetProgress() {
            if (confirm('‚ö†Ô∏è Are you sure you want to reset ALL progress? This cannot be undone.')) {
                if (confirm('Really sure? This will delete all your tracked progress and notes.')) {
                    localStorage.removeItem('deploymentSprintState');
                    location.reload();
                }
            }
        }

        // Initialize on page load
        window.onload = () => {
            init();
            console.log('Sprint Tracker loaded. Version:', state.version);
            console.log('localStorage available:', typeof(Storage) !== 'undefined');

            const lastSave = localStorage.getItem('deploymentSprintLastSave');
            if (lastSave) {
                console.log('Last save:', new Date(lastSave).toLocaleString());
            }
        };

        // Save on page unload (critical for data persistence)
        window.addEventListener('beforeunload', (e) => {
            saveState();
            console.log('Saving state before page close...');
        });

        // Save when page becomes hidden (browser tab switch, minimize)
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                saveState();
                console.log('Saving state (page hidden)...');
            }
        });

        // Close modals on background click
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                closeModal();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + S = Save current state
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                saveState();

                // Show visual feedback
                const header = document.querySelector('header');
                const originalBg = header.style.background;
                header.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';

                const p = header.querySelector('p');
                const originalText = p.textContent;
                p.textContent = '‚úÖ Progress Saved!';

                setTimeout(() => {
                    header.style.background = originalBg;
                    p.textContent = originalText;
                }, 1500);
            }

            // Ctrl/Cmd + M = Open metrics modal
            if ((e.ctrlKey || e.metaKey) && e.key === 'm') {
                e.preventDefault();
                openMetricsModal();
            }

            // Escape = Close modal
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</head>
<body>
    <!-- Content will be generated by JavaScript -->
</body>
</html>
